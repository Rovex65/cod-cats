{"version":3,"file":"commonHelpers2.js","sources":["../src/img/bcg-img-shop-list.png","../src/js/shop-list.js"],"sourcesContent":["export default \"__VITE_ASSET__97b0871a__\"","import { templateShopListBooks } from './template-functions';\nimport image from '../img/bcg-img-shop-list.png'\n\nconst listElem = document.querySelector(\".shopping-list\");\n\nconst storedValue = localStorage.getItem(\"saved-books\");\n    if (storedValue === null || storedValue === undefined) {\n        renderEmptyPage();\n    } else {\n        renderCartItems();\n    }\n\nlistElem.addEventListener('click', handleDeleteButtonClick);\n\nfunction handleDeleteButtonClick(event) {\n  if (event.target.classList.contains('delete-icon') || event.target.classList.contains('svg-icon')) {\n    const card = event.target.closest('.shop-list-book-card');\n    if (card) {\n      card.remove();\n      \n      const cart = JSON.parse(localStorage.getItem(\"saved-books\")) || [];\n      \n      const index = cart.findIndex(item => item.title === card.querySelector('.shop-list-book-title').textContent);\n      \n      if (index !== -1) {\n        cart.splice(index, 1);\n        localStorage.setItem(\"saved-books\", JSON.stringify(cart));\n      }\n    }\n  }\n}\n\nfunction updateMargin() {\n  const items = listElem.querySelectorAll(\".shop-list-book-card\");\n  const titleElem = document.querySelector(\".title-shopping\"); \n\n  if (items.length !== 0) {\n    titleElem.classList.add('not-empty-cart');\n  }\n}\n\nfunction renderCartItems() {\n  const cartItems = JSON.parse(localStorage.getItem(\"saved-books\")) || [];\n  const renderedHTML = templateShopListBooks(cartItems);\n  listElem.insertAdjacentHTML(\"beforeend\", renderedHTML);\n  updateMargin()\n}\n\nfunction renderEmptyPage() {\n  const emptyMarkup = `\n    <p class=\"text-shopping\">\n    This page is empty, add some books and proceed to order.\n    </p>\n    <img src=${image} alt=\"\" class=\"img-shopping\" />\n  `\n  listElem.insertAdjacentHTML(\"beforeend\", emptyMarkup);\n}"],"names":["image","listElem","storedValue","renderEmptyPage","renderCartItems","handleDeleteButtonClick","event","card","cart","index","item","updateMargin","items","titleElem","cartItems","renderedHTML","templateShopListBooks","emptyMarkup"],"mappings":"4DAAA,MAAeA,EAAA,kDCGTC,EAAW,SAAS,cAAc,gBAAgB,EAElDC,EAAc,aAAa,QAAQ,aAAa,EAC9CA,GAAgB,KAChBC,IAEAC,IAGRH,EAAS,iBAAiB,QAASI,CAAuB,EAE1D,SAASA,EAAwBC,EAAO,CACtC,GAAIA,EAAM,OAAO,UAAU,SAAS,aAAa,GAAKA,EAAM,OAAO,UAAU,SAAS,UAAU,EAAG,CACjG,MAAMC,EAAOD,EAAM,OAAO,QAAQ,sBAAsB,EACxD,GAAIC,EAAM,CACRA,EAAK,OAAM,EAEX,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQ,aAAa,CAAC,GAAK,GAE1DC,EAAQD,EAAK,UAAUE,GAAQA,EAAK,QAAUH,EAAK,cAAc,uBAAuB,EAAE,WAAW,EAEvGE,IAAU,KACZD,EAAK,OAAOC,EAAO,CAAC,EACpB,aAAa,QAAQ,cAAe,KAAK,UAAUD,CAAI,CAAC,EAE3D,CACF,CACH,CAEA,SAASG,GAAe,CACtB,MAAMC,EAAQX,EAAS,iBAAiB,sBAAsB,EACxDY,EAAY,SAAS,cAAc,iBAAiB,EAEtDD,EAAM,SAAW,GACnBC,EAAU,UAAU,IAAI,gBAAgB,CAE5C,CAEA,SAAST,GAAkB,CACzB,MAAMU,EAAY,KAAK,MAAM,aAAa,QAAQ,aAAa,CAAC,GAAK,GAC/DC,EAAeC,EAAsBF,CAAS,EACpDb,EAAS,mBAAmB,YAAac,CAAY,EACrDJ,EAAc,CAChB,CAEA,SAASR,GAAkB,CACzB,MAAMc,EAAc;AAAA;AAAA;AAAA;AAAA,eAIPjB,CAAK;AAAA,IAElBC,EAAS,mBAAmB,YAAagB,CAAW,CACtD"}