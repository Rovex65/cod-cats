import{t as c}from"./assets/template-functions-cc7f53d2.js";import{a as t}from"./assets/vendor-0cb09735.js";const n=window.location.pathname,i=document.querySelectorAll(".header-nav-link");i.forEach(e=>{e.href.includes(`${n}`)&&e.classList.add("nav-link-active")});class s{constructor(){this.BASE_URL="https://books-backend.p.goit.global/books/",t.defaults.baseURL=this.BASE_URL}async getCategoryList(){return(await t.get("category-list")).data}async getTopBooks(){return(await t.get("top-books")).data}async getBooksByCategory(o){const a=new URLSearchParams({category:o});return(await t.get("category",{params:a})).data}async getBookById(o){return(await t.get(`${o}`)).data}}const d=new s,l=document.querySelector(".books-wrapper");function g(e,o){const a=c(o);e.insertAdjacentHTML("beforeend",a)}async function k(){try{const e=await d.getTopBooks();console.log(e),g(l,e)}catch(e){console.log(e)}}k();const m=new s;async function u(e){const o=await m.getBooksByCategory(e);console.log(o),localStorage.setItem("saved-books",JSON.stringify(o))}u("Audio Fiction");const r=document.getElementById("toggleSwitch");r.addEventListener("change",y);localStorage.getItem("darkMode")==="true"&&(r.checked=!0,document.body.classList.add("dark"));function y(){r.checked?(document.body.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.body.classList.remove("dark"),localStorage.setItem("darkMode","false"))}const p=new s,b=document.querySelector(".sidebar-categories-name");document.querySelector(".scrolling-line");async function f(){try{const e=await p.getCategoryList();b.insertAdjacentHTML("beforeend",e.map(o=>h(o)).join(""))}catch(e){console.error("Error fetching category list:",e.message)}}function h({list_name:e}){return`<li class="sb-category-item">
            <a href="#" data-category="${e}">${e}</a>
          </li>`}f();
//# sourceMappingURL=commonHelpers.js.map
