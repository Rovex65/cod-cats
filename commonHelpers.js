import{t as c}from"./assets/template-functions-dc4d1d98.js";import{a as t}from"./assets/vendor-0cb09735.js";class s{constructor(){this.BASE_URL="https://books-backend.p.goit.global/books/",t.defaults.baseURL=this.BASE_URL}async getCategoryList(){return(await t.get("category-list")).data}async getTopBooks(){return(await t.get("top-books")).data}async getBooksByCategory(o){const a=new URLSearchParams({category:o});return(await t.get("category",{params:a})).data}async getBookById(o){return(await t.get(`${o}`)).data}}const n=new s,i=document.querySelector(".books-wrapper");function d(e,o){const a=c(o);e.insertAdjacentHTML("beforeend",a)}async function g(){try{const e=await n.getTopBooks();console.log(e),d(i,e)}catch(e){console.log(e)}}g();const l=new s;async function k(e){const o=await l.getBooksByCategory(e);console.log(o),localStorage.setItem("saved-books",JSON.stringify(o))}k("Audio Fiction");const r=document.getElementById("toggleSwitch");r.addEventListener("change",m);localStorage.getItem("darkMode")==="true"&&(r.checked=!0,document.body.classList.add("dark"));function m(){r.checked?(document.body.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.body.classList.remove("dark"),localStorage.setItem("darkMode","false"))}const y=new s,u=document.querySelector(".sidebar-categories-name");document.querySelector(".scrolling-line");async function p(){try{const e=await y.getCategoryList();u.insertAdjacentHTML("beforeend",e.map(o=>b(o)).join(""))}catch(e){console.error("Error fetching category list:",e.message)}}function b({list_name:e}){return`<li class="sb-category-item">
            <a href="#" data-category="${e}">${e}</a>
          </li>`}p();
//# sourceMappingURL=commonHelpers.js.map
