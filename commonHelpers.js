import{t as l,a as d}from"./assets/switch-theme-2a3403e6.js";import{a as o}from"./assets/vendor-0cb09735.js";class n{constructor(){this.BASE_URL="https://books-backend.p.goit.global/books/",o.defaults.baseURL=this.BASE_URL}async getCategoryList(){return(await o.get("category-list")).data}async getTopBooks(){return(await o.get("top-books")).data}async getBooksByCategory(e){const r=new URLSearchParams({category:e});return(await o.get("category",{params:r})).data}async getBookById(e){return(await o.get(`${e}`)).data}}const c=new n,i=document.querySelector(".books-wrapper"),y=document.querySelector(".main-page");document.querySelector(".pop-up .modal-wrap");const p=document.querySelector(".pop-up .modal-add-btn");function g(t){const e=l(t);i.insertAdjacentHTML("beforeend",e)}async function u(){try{const t=await c.getTopBooks();g(t)}catch(t){console.log(t)}}u();let a;function m(t){const e=document.querySelectorAll(".sidebar-categories-name a"),r=t==="all-categories"?"all-categories":t;for(let s=0;s<e.length;s++)e[s].classList.remove("active");document.querySelector(`[data-category="${r}"]`).classList.add("active")}function k(t){const e=d(t,a);i.innerHTML=e}async function b(t){try{if(a=t.dataset.category,m(a),a==="all-categories"){i.innerHTML="";const e=await c.getTopBooks();g(e)}else{const e=await c.getBooksByCategory(a);k(e)}}catch(e){console.log(e)}}let B;y.addEventListener("click",t=>{const e=t.target;e.hasAttribute("data-category")&&(t.preventDefault(),b(e))});p.addEventListener("click",t=>{updateShoppingList(t,B)});const f=new n;async function L(t){const e=await f.getBooksByCategory(t);console.log(e),localStorage.setItem("saved-books",JSON.stringify(e))}L("Audio Fiction");const w=new n,A=document.querySelector(".sidebar-categories-name");document.querySelector(".scrolling-line");async function S(){try{const t=await w.getCategoryList();A.insertAdjacentHTML("beforeend",t.map(e=>h(e)).join(""))}catch(t){console.error("Error fetching category list:",t.message)}}function h({list_name:t}){return`<li class="sb-category-item">
            <a href="#" data-category="${t}">${t}</a>
          </li>`}S();
//# sourceMappingURL=commonHelpers.js.map
