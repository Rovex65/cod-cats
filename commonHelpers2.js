import{c as d}from"./assets/switch-theme-37e2f1d6.js";import{P as u}from"./assets/vendor-65593ac5.js";const h="/cod-cats/assets/bcg-img-shop-list-8a16ad0f.png",a=document.querySelector(".shopping-list"),g=document.querySelector(".pagination-container"),c=3;let i=1;document.addEventListener("DOMContentLoaded",function(){k(),I(),l(i)});a.addEventListener("click",P);function P(t){if(t.target.classList.contains("delete-icon")||t.target.classList.contains("svg-icon")){const e=t.target.closest(".shop-list-book-card");if(e){const s=JSON.parse(localStorage.getItem("shoppingList"))||[],n=s.findIndex(o=>o.title===e.querySelector(".shop-list-book-title").textContent);if(n!==-1){s.splice(n,1),localStorage.setItem("shoppingList",JSON.stringify(s)),S();const o=(i-1)*c,r=o+c;n>=o&&n<r,l(i)}}}}function f(){const t=a.querySelectorAll(".shop-list-book-card"),e=document.querySelector(".title-shopping");t.length!==0&&e.classList.add("not-empty-cart")}function M(){const t=JSON.parse(localStorage.getItem("shoppingList"))||[],e=d(t);a.innerHTML=e,f(),I(),S()}function L(){const t=`
    <p class="text-shopping">
      This page is empty, add some books and proceed to order.
    </p>
    <img src=${h} alt="" class="img-shopping" />
  `;a.innerHTML=t}function k(){const t=localStorage.getItem("shoppingList");t==null?L():M()}function I(){const s={totalItems:(JSON.parse(localStorage.getItem("shoppingList"))||[]).length,itemsPerPage:c,visiblePages:3,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-page-btn-moveButton"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-page-btn-disabledMoveButton tui-is-disabled"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-page-btn-moreButton tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}};new u(g,s).on("afterMove",function(o){i=o.page,l(i)})}function l(t){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],s=(t-1)*c,n=s+c,o=e.slice(s,n);a.innerHTML="";const r=d(o);a.innerHTML=r,f(),e.length===0&&L()}function S(){const t=JSON.parse(localStorage.getItem("shoppingList"))||[],s={totalItems:t.length,itemsPerPage:c,visiblePages:3,centerAlign:!0,page:i};t.length===0?g.innerHTML="":new u(g,s).on("afterMove",function(o){i=o.page,l(i)})}const p=document.querySelector(".shopping-list"),m=localStorage.getItem("shoppingList");!m||JSON.parse(m).length===0?y():N();p.addEventListener("click",x);function x(t){if(t.target.classList.contains("delete-icon")||t.target.classList.contains("svg-icon")||t.target.closest(".delete-icon")||t.target.closest(".svg-icon")){const e=t.target.closest(".shop-list-book-card");if(e){e.remove();const s=JSON.parse(localStorage.getItem("shoppingList"))||[],n=s.findIndex(b=>b.title===e.querySelector(".shop-list-book-title").textContent);n!==-1&&(s.splice(n,1),localStorage.setItem("shoppingList",JSON.stringify(s))),(currentPage-1)*itemsPerPage+itemsPerPage,document.querySelector(".shopping-list").querySelectorAll(".shop-list-book-card").length===0&&y()}}}function O(){const t=p.querySelectorAll(".shop-list-book-card"),e=document.querySelector(".title-shopping");t.length===0?(e.classList.add("empty-cart"),e.classList.remove("not-empty-cart")):(e.classList.remove("empty-cart"),e.classList.add("not-empty-cart"))}function N(){const t=JSON.parse(localStorage.getItem("shoppingList"))||[],e=d(t);p.insertAdjacentHTML("beforeend",e),O()}function y(){const t=`
    <p class="text-shopping">
      This page is empty, add some books and proceed to order.
    </p>
    <img src=${h} alt="" class="img-shopping" />
  `;p.insertAdjacentHTML("beforeend",t)}
//# sourceMappingURL=commonHelpers2.js.map
