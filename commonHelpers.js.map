{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/book-api.js","../src/js/home.js","../src/js/save-book-local.js","../src/js/switch-theme.js","../src/js/categories.js"],"sourcesContent":["const activePage = window.location.pathname;\nconst navLink = document.querySelectorAll('.header-nav-link');\nnavLink.forEach(link => {\n  if (link.href.includes(`${activePage}`)) {\n    link.classList.add('nav-link-active');\n  }\n});\n","import axios from 'axios';\n\nexport class BookApi {\n  constructor() {\n    this.BASE_URL = 'https://books-backend.p.goit.global/books/';\n    axios.defaults.baseURL = this.BASE_URL;\n  }\n\n  async getCategoryList() {\n    const res = await axios.get('category-list');\n    return res.data;\n  }\n\n  async getTopBooks() {\n    const res = await axios.get('top-books');\n    return res.data;\n  }\n\n  async getBooksByCategory(category) {\n    const params = new URLSearchParams({ category });\n    const res = await axios.get('category', { params });\n    return res.data;\n  }\n\n  async getBookById(id) {\n    const res = await axios.get(`${id}`);\n    return res.data;\n  }\n}\n","import { templateTopBooks } from './template-functions';\nimport { BookApi } from './book-api';\n\nconst booksApi = new BookApi();\nconst booksWrap = document.querySelector('.books-wrapper');\n\nfunction renderBooks(booksWrap, booksData) {\n  const markup = templateTopBooks(booksData);\n  booksWrap.insertAdjacentHTML('beforeend', markup);\n}\n\n// get books\nexport async function getTopBooksFromApi() {\n  try {\n    const data = await booksApi.getTopBooks();\n    console.log(data);\n    renderBooks(booksWrap, data);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\ngetTopBooksFromApi();\n","import { BookApi } from './book-api';\n\nconst bookApi = new BookApi();\n\nasync function setTestBooksToLocal(category) {\n  const books = await bookApi.getBooksByCategory(category);\n  console.log(books);\n  localStorage.setItem('saved-books', JSON.stringify(books));\n}\n\nsetTestBooksToLocal('Audio Fiction');\n","const themeSwitcher = document.getElementById('toggleSwitch');\n\nthemeSwitcher.addEventListener('change', changeDarkMode);\n\nif (localStorage.getItem('darkMode') === 'true') {\n  themeSwitcher.checked = true;\n  document.body.classList.add('dark');\n}\n\nfunction changeDarkMode() {\n  if (themeSwitcher.checked) {\n    document.body.classList.add('dark');\n    localStorage.setItem('darkMode', 'true');\n  } else {\n    document.body.classList.remove('dark');\n    localStorage.setItem('darkMode', 'false');\n  }\n}\n","import { BookApi } from './book-api';\n\nconst bookApi = new BookApi();\nconst categoriesList = document.querySelector('.sidebar-categories-name');\nconst scrollingLine = document.querySelector('.scrolling-line');\n\nasync function renderCategories() {\n  try {\n    const categoryList = await bookApi.getCategoryList();\n\n    categoriesList.insertAdjacentHTML(\n      'beforeend',\n      categoryList.map(category => templateNameCategory(category)).join('')\n    );\n\n    //     const categoryItems = document.querySelectorAll('.sb-category-item');\n    //     categoryItems.forEach(item => {\n    //   item.addEventListener('click', async () => {\n    //       const categoryName = item.querySelector('a').textContent;\n    //       const books = await bookApi.getBooksByCategory(categoryName);\n    //       console.log(`Books in category ${categoryName}:`, books);\n    //   });\n    // });\n  } catch (error) {\n    console.error('Error fetching category list:', error.message);\n  }\n}\n\nfunction templateNameCategory({ list_name: category }) {\n  return `<li class=\"sb-category-item\">\n            <a href=\"#\" data-category=\"${category}\">${category}</a>\n          </li>`;\n}\n\nrenderCategories();\n"],"names":["activePage","navLink","link","BookApi","axios","category","params","id","booksApi","booksWrap","renderBooks","booksData","markup","templateTopBooks","getTopBooksFromApi","data","err","bookApi","setTestBooksToLocal","books","themeSwitcher","changeDarkMode","categoriesList","renderCategories","categoryList","templateNameCategory","error"],"mappings":"4GAAA,MAAMA,EAAa,OAAO,SAAS,SAC7BC,EAAU,SAAS,iBAAiB,kBAAkB,EAC5DA,EAAQ,QAAQC,GAAQ,CAClBA,EAAK,KAAK,SAAS,GAAGF,CAAU,EAAE,GACpCE,EAAK,UAAU,IAAI,iBAAiB,CAExC,CAAC,ECJM,MAAMC,CAAQ,CACnB,aAAc,CACZ,KAAK,SAAW,6CAChBC,EAAM,SAAS,QAAU,KAAK,QAC/B,CAED,MAAM,iBAAkB,CAEtB,OADY,MAAMA,EAAM,IAAI,eAAe,GAChC,IACZ,CAED,MAAM,aAAc,CAElB,OADY,MAAMA,EAAM,IAAI,WAAW,GAC5B,IACZ,CAED,MAAM,mBAAmBC,EAAU,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CAAE,SAAAD,CAAU,CAAA,EAE/C,OADY,MAAMD,EAAM,IAAI,WAAY,CAAE,OAAAE,CAAM,CAAE,GACvC,IACZ,CAED,MAAM,YAAYC,EAAI,CAEpB,OADY,MAAMH,EAAM,IAAI,GAAGG,CAAE,EAAE,GACxB,IACZ,CACH,CCzBA,MAAMC,EAAW,IAAIL,EACfM,EAAY,SAAS,cAAc,gBAAgB,EAEzD,SAASC,EAAYD,EAAWE,EAAW,CACzC,MAAMC,EAASC,EAAiBF,CAAS,EACzCF,EAAU,mBAAmB,YAAaG,CAAM,CAClD,CAGO,eAAeE,GAAqB,CACzC,GAAI,CACF,MAAMC,EAAO,MAAMP,EAAS,cAC5B,QAAQ,IAAIO,CAAI,EAChBL,EAAYD,EAAWM,CAAI,CAC5B,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,CAEAF,EAAoB,ECpBpB,MAAMG,EAAU,IAAId,EAEpB,eAAee,EAAoBb,EAAU,CAC3C,MAAMc,EAAQ,MAAMF,EAAQ,mBAAmBZ,CAAQ,EACvD,QAAQ,IAAIc,CAAK,EACjB,aAAa,QAAQ,cAAe,KAAK,UAAUA,CAAK,CAAC,CAC3D,CAEAD,EAAoB,eAAe,ECVnC,MAAME,EAAgB,SAAS,eAAe,cAAc,EAE5DA,EAAc,iBAAiB,SAAUC,CAAc,EAEnD,aAAa,QAAQ,UAAU,IAAM,SACvCD,EAAc,QAAU,GACxB,SAAS,KAAK,UAAU,IAAI,MAAM,GAGpC,SAASC,GAAiB,CACpBD,EAAc,SAChB,SAAS,KAAK,UAAU,IAAI,MAAM,EAClC,aAAa,QAAQ,WAAY,MAAM,IAEvC,SAAS,KAAK,UAAU,OAAO,MAAM,EACrC,aAAa,QAAQ,WAAY,OAAO,EAE5C,CCfA,MAAMH,EAAU,IAAId,EACdmB,EAAiB,SAAS,cAAc,0BAA0B,EAClD,SAAS,cAAc,iBAAiB,EAE9D,eAAeC,GAAmB,CAChC,GAAI,CACF,MAAMC,EAAe,MAAMP,EAAQ,kBAEnCK,EAAe,mBACb,YACAE,EAAa,IAAInB,GAAYoB,EAAqBpB,CAAQ,CAAC,EAAE,KAAK,EAAE,CAC1E,CAUG,OAAQqB,EAAO,CACd,QAAQ,MAAM,gCAAiCA,EAAM,OAAO,CAC7D,CACH,CAEA,SAASD,EAAqB,CAAE,UAAWpB,GAAY,CACrD,MAAO;AAAA,yCACgCA,CAAQ,KAAKA,CAAQ;AAAA,gBAE9D,CAEAkB,EAAkB"}